<div class="analytics-dashboard-top-level">
  <div class="analytics-wrapper" [hidden]="!fullSpotfireConfig.hasAnalytics">
    <uxpl-object-header [config]="objHeaderConfig" (back)="selectAnalytic()">
      <uxpl-button slot="navigation-content" style="width: 160px" id="#newAnalysis" type='secondary' [disabled]="!referenceEnabled" [hidden]="!(fullSpotfireConfig.hasAnalytics && referenceVisible)" (clicked)="handleTCMButton($event, ADD_REFERENCE)">
        Add to reference
      </uxpl-button>
      <uxpl-button slot="navigation-content" style="width: 160px" id="#newAnalysis" type='secondary' [disabled]="!referenceEnabled" [hidden]="!(fullSpotfireConfig.hasAnalytics && referenceVisible)" (clicked)="handleTCMButton($event,  REMOVE_REFERENCE)">
        Remove from reference
      </uxpl-button>
      <uxpl-button slot="navigation-content" style="width: 100px" id="#newAnalysis" type='secondary' [disabled]="!checkingEnabled" [hidden]="!(fullSpotfireConfig.hasAnalytics && checkingVisible)" (clicked)="handleTCMButton($event, CHECK)">
        Check
      </uxpl-button>
      <uxpl-button slot="navigation-content" style="width: 100px" id="#newAnalysis" type='secondary' [disabled]="!checkingEnabled" [hidden]="!(fullSpotfireConfig.hasAnalytics && checkingVisible)" (clicked)="handleTCMButton($event, UNCHECK)">
        Uncheck
      </uxpl-button>
      <uxpl-button slot="navigation-content" style="width: 160px" id="#newAnalysis" icon="assets/images/svg/plus.svg" (clicked)="popup.show = !popup.show;"   [disabled]="!createInvestigationEnabled"  [hidden]="!(fullSpotfireConfig.hasAnalytics && createInvestigationVisible)">
        Investigation
        <uxpl-popup #popup id="popup" slot="popup" x-position="before" content-id="my-popup-content" max-width="400px" max-height="450px">
        <create-case-menu id="my-popup-content" (createInvestigation)="createInv($event)"></create-case-menu>
      </uxpl-popup>
      </uxpl-button>
      <uxpl-button slot="navigation-content"  id="#refresh" type="secondary" icon="assets/images/svg/pl-icon-refresh.svg" (clicked)="refresh()" [disabled]="!refreshEnabled" [hidden]="!(fullSpotfireConfig.hasAnalytics && refreshVisible)"
                   type="no-border">
        Refresh
      </uxpl-button>
    </uxpl-object-header>
    <div class="analytics-dashboard-wrapper" *ngIf="!analysisError">
      <div class="analytics-dashboard-left-nav" [hidden]="!fullSpotfireConfig.hasAnalytics">
        <uxpl-left-nav-multi #leftNav (selected)="handleClick($event)" [tabs]="leftNavTabs"></uxpl-left-nav-multi>
      </div>
      <div class="analytics-dashboard-analytics">
        <div style="width: 100%; height: 100%;">
          <template #spotfireContainer></template>
        </div>
      </div>
    </div>
    <div *ngIf="analysisError">
      <uxpl-empty-state-system type="system error" message="Analytics server is not online" description="Please, contact your TIBCO Spotfire Administrator."></uxpl-empty-state-system>
    </div>
  </div>
  <div [hidden]="fullSpotfireConfig.hasAnalytics" class="center">
    <div class="img-center">
      <img width="204" [src]="noDataIconLocation">
    </div>
    <div class="no-data-available"><br></div>
    <div class="no-data-available" style="font-weight: bold">No process selected.<br></div>
    <div class="no-data-available"><br></div>
    <div class="no-data-available"> Select <span class="no-data-available-click" (click)="selectAnalytic()">a process analysis</span>
      to get started.
    </div>
  </div>
</div>



