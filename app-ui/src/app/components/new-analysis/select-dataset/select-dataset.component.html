<div>
  <div class="datasource-preview">
    <uxpl-select-input label="Available datasets" [value]="dataset" [options]="availableDatasets"
                       (uxplSelection)="handleSelection($event)"></uxpl-select-input>
    Don’t see the dataset you’re looking for? To create a new one, <span class="go-dataset-click"
                                                                         (click)="goDataSet()">go to Datasets.</span>

    <div class="datasource-preview-table" *ngIf="preview && !isDataPreviewError">
      <!-- *ngIf="!isError && previewColumns?.length > 0" -->
      <tcpmg-generic-table [columnDefs]="preview.columns" [rowData]="preview.data.slice(0,5)"
                           [autoLayout]="false" [showSortIcon]="false"
                           [showExpandButton]="false" [paginator]="false"
                           [showCurrentPageReport]="false" [showFilterRow]="false">
      </tcpmg-generic-table>
    </div>
    <div *ngIf="!preview && !isDataPreviewError" class="center">
      <!-- *ngIf=" (previewColumns === undefined || previewColumns?.length === 0)" class="center"> -->
      <div class="img-center">
        <img width="204" [src]="'assets/images/png/no-data.png'">
      </div>
      <div class="no-data-available"><br></div>
      <div class="no-data-available" style="font-weight: bold">No preview data available<br></div>
      <div class="no-data-available"><br></div>
    </div>
    <div *ngIf="isDataPreviewError" class="center">
      <div class="img-center">
        <img width="204" [src]="'assets/images/png/no-data.png'">
      </div>
      <div class="no-data-available"><br></div>
      <div class="no-data-available" style="font-weight: bold">The preview data service is not online.<br></div>
      <div class="no-data-available" style="font-weight: bold">Please, contact your administrator.<br></div>
      <div class="no-data-available"><br></div>
    </div>
  </div>
</div>
