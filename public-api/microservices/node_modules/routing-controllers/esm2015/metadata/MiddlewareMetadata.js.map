{"version":3,"file":"MiddlewareMetadata.js","sourceRoot":"","sources":["../../../src/metadata/MiddlewareMetadata.ts"],"names":[],"mappings":"AAGA,OAAO,EAAE,gBAAgB,EAAE,MAAM,cAAc,CAAC;AAGhD;;GAEG;AACH,MAAM,OAAO,kBAAkB;IAyB7B,4EAA4E;IAC5E,cAAc;IACd,4EAA4E;IAE5E,YAAY,IAA4B;QACtC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;QAC1B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;QAC1B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;QAC9B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;IACxB,CAAC;IAED,4EAA4E;IAC5E,YAAY;IACZ,4EAA4E;IAE5E;;OAEG;IACH,IAAI,QAAQ;QACV,OAAO,gBAAgB,CACrB,IAAI,CAAC,MAAM,CACZ,CAAC;IACJ,CAAC;CACF","sourcesContent":["import { MiddlewareMetadataArgs } from './args/MiddlewareMetadataArgs';\nimport { ExpressMiddlewareInterface } from '../driver/express/ExpressMiddlewareInterface';\nimport { ExpressErrorMiddlewareInterface } from '../driver/express/ExpressErrorMiddlewareInterface';\nimport { getFromContainer } from '../container';\nimport { KoaMiddlewareInterface } from '../driver/koa/KoaMiddlewareInterface';\n\n/**\n * Middleware metadata.\n */\nexport class MiddlewareMetadata {\n  // -------------------------------------------------------------------------\n  // Properties\n  // -------------------------------------------------------------------------\n\n  /**\n   * Indicates if this middleware is global, thous applied to all routes.\n   */\n  global: boolean;\n\n  /**\n   * Object class of the middleware class.\n   */\n  target: Function;\n\n  /**\n   * Execution priority of the middleware.\n   */\n  priority: number;\n\n  /**\n   * Indicates if middleware must be executed after routing action is executed.\n   */\n  type: 'before' | 'after';\n\n  // -------------------------------------------------------------------------\n  // Constructor\n  // -------------------------------------------------------------------------\n\n  constructor(args: MiddlewareMetadataArgs) {\n    this.global = args.global;\n    this.target = args.target;\n    this.priority = args.priority;\n    this.type = args.type;\n  }\n\n  // -------------------------------------------------------------------------\n  // Accessors\n  // -------------------------------------------------------------------------\n\n  /**\n   * Gets middleware instance from the container.\n   */\n  get instance(): ExpressMiddlewareInterface | KoaMiddlewareInterface | ExpressErrorMiddlewareInterface {\n    return getFromContainer<ExpressMiddlewareInterface | KoaMiddlewareInterface | ExpressErrorMiddlewareInterface>(\n      this.target\n    );\n  }\n}\n"]}