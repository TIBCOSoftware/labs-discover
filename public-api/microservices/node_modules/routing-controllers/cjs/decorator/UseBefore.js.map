{"version":3,"file":"UseBefore.js","sourceRoot":"","sources":["../../../src/decorator/UseBefore.ts"],"names":[],"mappings":";;;AAAA,oCAAkD;AAoBlD;;;GAGG;AACH,SAAgB,SAAS,CACvB,GAAG,WAAqF;IAExF,OAAO,UAAU,gBAAmC,EAAE,UAAmB;QACvE,WAAW,CAAC,OAAO,CAAC,UAAU,CAAC,EAAE;YAC/B,8BAAsB,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC;gBACjC,MAAM,EAAE,UAAU,CAAC,CAAC,CAAC,gBAAgB,CAAC,WAAW,CAAC,CAAC,CAAE,gBAA6B;gBAClF,MAAM,EAAE,UAAU;gBAClB,UAAU,EAAE,UAAU;gBACtB,WAAW,EAAE,KAAK;aACnB,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC,CAAC;AACJ,CAAC;AAbD,8BAaC","sourcesContent":["import { getMetadataArgsStorage } from '../index';\n\n/**\n * Specifies a given middleware to be used for controller or controller action BEFORE the action executes.\n * Must be set to controller action or controller class.\n */\nexport function UseBefore(...middlewares: Array<Function>): Function;\n\n/**\n * Specifies a given middleware to be used for controller or controller action BEFORE the action executes.\n * Must be set to controller action or controller class.\n */\nexport function UseBefore(...middlewares: Array<(context: any, next: () => Promise<any>) => Promise<any>>): Function;\n\n/**\n * Specifies a given middleware to be used for controller or controller action BEFORE the action executes.\n * Must be set to controller action or controller class.\n */\nexport function UseBefore(...middlewares: Array<(request: any, response: any, next: Function) => any>): Function;\n\n/**\n * Specifies a given middleware to be used for controller or controller action BEFORE the action executes.\n * Must be set to controller action or controller class.\n */\nexport function UseBefore(\n  ...middlewares: Array<Function | ((request: any, response: any, next: Function) => any)>\n): Function {\n  return function (objectOrFunction: Object | Function, methodName?: string) {\n    middlewares.forEach(middleware => {\n      getMetadataArgsStorage().uses.push({\n        target: methodName ? objectOrFunction.constructor : (objectOrFunction as Function),\n        method: methodName,\n        middleware: middleware,\n        afterAction: false,\n      });\n    });\n  };\n}\n"]}